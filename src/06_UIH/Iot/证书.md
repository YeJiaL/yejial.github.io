

# 一些链接

[openssl req(生成证书请求和自建CA)](https://www.shuzhiduo.com/A/Ae5R2BE25Q/)

[Java加密技术（十二）——*.PFX(*.p12)&个人信息交换文件](https://www.iteye.com/blog/snowolf-735294)

open命令行

# 转换成DER文件，就可以在Windows下直接查看了
```
openssl x509 -outform der -in remoteserver.pem -out remoteserver.cer
openssl x509 -outform der -in device.pem -out device.cer
openssl x509 -outform der -in device.pem -out device.cer
openssl x509 -outform der -in keystorage-111-20220314.pem -out keystorage-111-20220314.cer

```
# PKCS转换为PEM
```
openssl pkcs12 -in myserver.pfx -out myserver2.pem -nodes
openssl pkcs12 -in X509CertMaker6issue2.pfx -out X509CertMaker6issue2.pem -nodes

openssl pkcs12 -in X509CertMaker5issue2.pfx -out X509CertMaker5issue2.pem -nodes
openssl pkcs12 -in keystorage-1234567890-20220309.pfx -out keystorage-1234567890-20220309.pem -nodes
```
# 查看pem信息
```
openssl x509 -in ca.pem -noout -text

openssl x509 -in device.pem -noout -text
openssl x509 -in X509CertMaker6issue2.pem -noout -text
openssl x509 -in x5094client.pem -noout -text

openssl x509 -in keystorage-1502193115578712065-20220314.pem -noout -text
openssl x509 -in keystorage-111-20220314.pem -noout -text

openssl x509 -in keystorage-12345678902-20220314.pem -noout -text
```
# 查看KEY信息

```
openssl rsa -noout -text -in myserver.key
openssl rsa -noout -text -in device.key

openssl rsa -noout -text -in ca.key
```
# 查看CSR信息

> openssl req -noout -text -in myserver.csr

# 查看crt证书信息
```
 openssl x509 -noout -text -in ca.crt
openssl x509 -noout -text -in X509CertMaker6issue2.crt

openssl x509 -noout -text -in device.crt


openssl x509 -noout -text -in X509CertMaker6issue2.crt

openssl x509 -noout -text -in device.crt
```
# 验证证书

# 会提示self signed

> openssl verify selfsign.crt

# 因为myserver.crt 是幅ca.crt发布的，所以会验证成功

> openssl verify -CAfile ca.crt myserver.crt

去掉key的密码保护

有时候每次都要输入密码太繁琐了,可以把Key的保护密码去掉
```
openssl rsa -in myserver.key -out server.key.insecure


openssl x509 -in keystorage-111-20220314.pem -out keystorage-111-20220314.crt

openssl x509 -in keystorage-12345678903-20220315.pem -out keystorage-12345678903-20220315.crt


openssl verify -CAfile ca.crt myserver.crt
```

PEM(.pem) 前面命令生成的都是这种格式，

DER(.cer .der) Windows 上常见

PKCS#12文件(.pfx .p12) Mac上常见

# PEM转换为DER

> openssl x509 -outform der -in myserver.crt -out myserver.der

# PEM转换为crt

> openssl x509 -in keystorage-111-20220314.pem -out keystorage-111-20220314.crt

openssl x509 -in keystorage-12345678903-20220315.pem -out keystorage-12345678903-20220315.crt

# DER转换为PEM

> openssl x509 -inform der -in myserver.cer -out myserver.pem

# PEM转换为PKCS
```
 openssl pkcs12 -export -out myserver.pfx -inkey myserver.key -in myserver.crt -certfile ca.crt

openssl pkcs12 -export -out ca.pfx -inkey ca.key -in ca.crt -certfile ca.crt

openssl pkcs12 -export -out ca.pfx -inkey ca.key -in ca.crt
```
# PKCS(pfx)转换为PEM
```
 openssl pkcs12 -in X509CertMaker6issue2.pfx -out X509CertMaker6issue2.pem -nodes
openssl pkcs12 -in keystorage-1482975940950618113-20220311.pfx -out keystorage-1482975940950618113-20220311.pem -nodes

openssl pkcs12 -in keystorage-12345678903-20220315.pfx -out keystorage-12345678903-20220315.pem -nodes
openssl x509 -in keystorage-12345678903-20220315.pem -out keystorage-12345678903-20220315.crt


openssl pkcs12 -in X509CertMaker6issue2.pfx -out X509CertMaker6issue2.pem -nodes
openssl pkcs12 -in device.pfx -out device.pem -nodes
openssl pkcs12 -in test.p12 -out test.pem -nodes
openssl pkcs12 -in 1502193115578712065.pfx -out 1502193115578712065.pem -nodes

openssl pkcs12 -in keystorage-111-20220314.pfx -out keystorage-111-20220314.pem -nodes

openssl pkcs12 -in keystorage-test-20220314.pfx -out keystorage-test-20220314.pem -nodes

keystorage-12345678902-20220314
openssl pkcs12 -in keystorage-12345678902-20220314.pfx -out keystorage-12345678902-20220314.pem -nodes

openssl pkcs12 -in keystorage-1503288526387384322-20220314.pfx -out keystorage-1503288526387384322-20220314.pem -nodes
openssl x509 -in keystorage-1503288526387384322-20220314.pem -noout -text


openssl pkcs12 -in keystorage-1234567890-20220314.pfx -out keystorage-1234567890-20220314.pem -nodes
openssl x509 -in keystorage-1234567890-20220314.pem -noout -text


openssl pkcs12 -in keystorage-1500769557025755138-20220314.pfx -out keystorage-1500769557025755138-20220314.pem -nodes

openssl pkcs12 -in keystorage-1502193115578712065-20220314.pfx -out keystorage-1502193115578712065-20220314.pem -nodes

openssl pkcs12 -in X509CertMaker6issue2.pfx -nocerts -nodes -out X509CertMaker6issue2.key
```